# 🏥 Medical Aesthetic News Intelligence System (Structure)

이 문서는 시스템의 전반적인 구조와 운영 방식을 정의합니다. 필요에 따라 내용을 수정하여 시스템의 방향성을 변경할 수 있습니다.

---

## 🟢 1. 시스템 개요 (Brief)

- **목적**: 12월 1일 이후의 미용의료 산업 뉴스를 자동 수집하고, 전문가 시각으로 분석하여 보고서를 생성합니다.
- **핵심 엔진**: `collector/async_collector.py`
- **최종 결과물**:
    1. **Google Sheets**: 마켓 리서치용 9대 컬럼 실시간 리포트 (`Market Analysis` 탭)
    2. **Supabase DB**: 뉴스 대시보드 웹사이트용 데이터 저장

---

## 🔵 2. 상세 아키텍처 (Detail)

### 🛰️ 단계별 프로세스

1. **수집 (Crawl)**: 네이버 API를 통해 뉴스 수집 (12월 1일 기준 필터링)
2. **필터링 (Deduplication)**:
    - **링크 중복**: 동일 URL 원천 차단
    - **지능형 제목 중복**: 제목 유사도 85% 이상 시 어뷰징 기사로 판단하여 제거
3. **분석 (AI Analysis)**: Gemini, Groq, OpenAI 등 멀티 모델을 활용한 정밀 분석
4. **동기화 (Sync)**: 분석 즉시 DB와 구글 시트에 데이터 동기화

### 📋 전문가용 9대 컬럼 구조 (Google Sheets)

| 순서 | 컬럼명 | 내용 설명 |
| :--- | :--- | :--- |
| 1 | **분석 시각** | 데이터가 분석된 실시간 타임스탬프 |
| 2 | **검색 키워드** | 수집 시 사용된 키워드 (정제된 텍스트) |
| 3 | **헤드라인** | 기사 제목 (HTML 태그 제거 완료) |
| 4 | **링크** | 기사 원문 URL (Unique ID 역할) |
| 5 | **메인 키워드** | 전문가 키워드 풀 중 가장 핵심적인 1순위 키워드 |
| 6 | **포함 키워드** | 본문 내 언급된 모든 전문가 키워드 리스트 |
| 7 | **발행 시각** | 실제 뉴스 보도 날짜 및 시간 (ISO 형식) |
| 8 | **이슈 성격** | 기사의 전략적 분류 (ex: 제품 출시/허가, 임상/연구데이터, 실적/수출/경영/주식, 법적분쟁/규제, 투자/M&A, 학회/마케팅, 기타) |
| 9 | **AI 한 줄 요약** | 전문가 관점의 50자 내외 핵심 요약 |

---

## 🔑 3. 키워드 관리 전략 (Keywords)

### 🎣 크롤링 키워드 (그물)

- **용도**: 뉴스 수집 시 검색어로 사용 (Naver API 호출용)
- **관리**: `collector/.env` -> `KEYWORDS`
- **리스트**: `필러, 톡신, 보톡스, PLLA, PDLLA, HIFU, 엑소좀, PDRN, PN, PDO, 제테마, 휴젤, 파마리서치, 메디톡스, 대웅제약, 휴온스, 종근당바이오, 바임, 원텍, 클래시스, 제이시스메디칼`

### 🧠 AI 분석 키워드 (필터)

- **용도**: 기사 내용에서 핵심 정보를 매칭하고 태깅할 때 사용 (전문가 분류용)
- **관리**: `collector/local_keyword_extractor.py` -> `EXPERT_ANALYSIS_KEYWORDS` / `web/src/lib/constants.ts` -> `CATEGORIES_CONFIG`
- **전체 리스트 (Categorized)** - 총 102개:
  - **Filler (16개)**: 필러, 레볼락스, 더채움, 쥬비덤, 주비덤, 레스틸레인, 벨로테로, 순수필, 엘라스티, 뉴라미스, 로리앙, 클레비엘, 이브아르, 테오시알, 스타일에이지, 리덴시티
  - **Botulinum Toxin (8개)**: 톡신, 보톡스, 나보타, 제오민, 레티보, 코어톡스, 하이톡스, 비에녹스
  - **Collagen Stimulator (10개)**: PLLA, PDLLA, PLA, 쥬베룩, 레니스나, 스컬트라, 리프팅실, 실리프팅, PDO, 에스테필
  - **Skinboosters (14개)**: PN, PDRN, 엑소좀, 리쥬란, 스킨부스터, hADM, 인체조직, 리투오, 힐로웨이브, 리바이브, 스킨바이브, 프로파일로, 비타란, 동종진피
  - **Machines/EBD (21개)**: HIFU, RF, 고주파, 레이저, 울쎄라, 써마지, 슈링크, 인모드, 올리지오, 텐써마, 브이로, 더블로, 울트라포머, 리프테라, 포텐자, 시크릿, 실펌, 온다리프팅, 큐어젯, 노보젯, 엔파인더스
  - **Corporate News (33개)**: 제테마, 휴젤, 파마리서치, 종근당, 종근당바이오, 휴온스, 휴메딕스, 메디톡스, 바이오플러스, 원텍, 클래시스, 제이시스, 바임, 대웅제약, 갈더마, 멀츠, 앨러간, 시지바이오, 비엔씨, 엑소코, 에스테팜, 아크로스, 한스바이오베드, 비엠아이, 중헌제약, MDR, 학회, 최소침습, 미용성형, 화장품, 제이월드, 네오닥터, 허가

---

## 🚀 4. 실행 및 관리 (Operations)

- **수집 시작**: `python collector/async_collector.py`
- **데이터 삭제(초기화)**: 필요 시 `supabase.table('articles').delete()` 명령어로 청소 가능
- **유지보수**: 새로운 브랜드나 회사가 생기면 `local_keyword_extractor.py`의 `EXPERT_ANALYSIS_KEYWORDS` 리스트에 추가만 하면 자동으로 시스템 전체에 반영됩니다.

---

*최종 업데이트: 2025-12-24*  
*작성자: Antigravity*
